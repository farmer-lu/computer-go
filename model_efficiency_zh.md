# 各模型計算效率分析

## 計算效率
計算效率，指單位計算量之下的棋力。

雖然模型越大，精度就越高，但每次推斷所花費的時間也越長。因此，衡量「計算效率」有其意義。
細言之，因為計算量每增為 2 倍，約可增加棋力一段。故與基準模型相比，如果一個較大的模型在同樣 Playouts 之下棋力比基準模型強了 N 段，但每秒 Playouts 數卻小於黊準模型的 2^N 分之一，則在相同計算量（或行棋時間）限制之下（尤其在「非 GPU 環境」），棋力反而弱於基準模型。

為了客觀衡量計算效率，我們採用如下定義。
取一個 M0 模型為基準，假設其棋力為 D0，每秒相對 Playouts 為 1.0，定義其計算效率為 1.0；而模型 M1 的 每秒相對 Playouts 為 P1，棋力為 D1。
則 M1 的「相對計算效率」定義為： P1 * 2^( D1 - D0 ) 

其物理意義為：基準模型為達到與之相同棋力所需要的計算量的倍數，或為達到「與基準模型相同棋力」所需要的計算量的倍數的倒數。

## 模型比較表 (依計算效率序)
| 效率排名 | 模型名 | 網路結構 | 棋力@PO-1600 |  每秒相對 Playouts | 計算效率 |
| --- | --- | --------- | --- | ------------- | --- | 
|1| **LZ 157**| 15x192 | 13D | 1.0 |**1.0**|
|2 | ELF v2 | 20x224 | 14D |  0.5 | 1.0 |
|3 | LZ 226 | 40x256 | 15D | 0.1 | 0.4|
|4 | LZ 116 | 10x128 | 9D | 3.6 | 0.22|
|5 | LZ 091 | 6x128 | 6D | 5.9 | 0.05|
|6 | LZ ZQ F1 | 5x64 | 5D | 10.0 | 0.04|
|7 | LZ 057 | 5x64 | 2D | 10.0 | 0.005|

- 「每秒相對 Playouts」 以 LZ 157 為基準，定為 1.0。
- 「棋力」指 Playouts 等於 1600 時的強度

## 結論
- **LZ 157** 與 **ELF v2** 計算效率最高; 在相同計算時間之下，應具有近似的棋力
- 然而由於 **LZ 157** 的模型更小，更適合在小設備上運行
- 並且由於 LZ 157 的每秒 Playouts 數是 ELF v2 的兩倍，在大手數大龍攻殺時更有優勢

## 參考文獻
- https://github.com/breakwa11/GoAIRatings
